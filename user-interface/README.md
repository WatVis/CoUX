# User Interface

## Run website locally

## 1. Install MongoDB (Mac Instructions (Catalina onwards))

If you have MongoDB installed on your os you can pass this step.

you can follow this tutorial: https://zellwk.com/blog/install-mongodb/

`brew tap mongodb/brew`

`brew install mongodb-community`

`sudo mkdir -p /System/Volumes/Data/data/db`

`` sudo chown -R `id -un` /System/Volumes/Data/data/db ``

## 2. Install and Open MongoDB Compass

If you have MongoDB installed on your os you can pass this step.

link: https://www.mongodb.com/try/download/compass

## 3. Start MongoDB

The command depends on how your os. If you are using mac os and
If you installed MongoDB based on the tutorial then you to start MongoDB:

`mongod`

## 4. Start Backend

`cd backend`

Only for the first time to install all packages.

`npm i`

`npm run start`

Make an "assets" folder in /backend and add your video inside that folder. Then you should add your vide to the database with an api call to /videos [POST]. You can use applications like postman. Also, keep in mind you should send the information generated by Video Analysis Engine as the body of your request to the backend. (video-template.json is a sample json body)

## 5. Start Frontend

`cd frontent`

Only for the first time to install all packages.

`yarn add @craco/craco`

Only for the first time to install all packages.

`npm i`

`npm run start`

## 6. Sign up an account

1. Wait for the website to finish loading in `localhost:3000`
2. Sign up for an account
3. Open MongoDB Compass
4. Click 'Connect'
5. Choose the 'coux' database
6. Click 'users'
7. Set `isAdmin` and `isVerified` to `true` for your account
8. Click 'Update'
9. Reload the website

## Deploy the application on your sever

Make sure you have Docker and Docker Compose installed on your server.

The application is dockerized, so you only need to run docker-compose command in order to deploy it on your server. You can follow https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-20-04 for more information.

Simply run:
`docker-compose up -d`

You should change the address to backend in the ./frontend/src/actions/consts/host.js
